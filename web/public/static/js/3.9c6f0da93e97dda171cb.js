webpackJsonp([3],{dUbE:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={components:{Upload:i("jd+X").a},data:function(){return{id:this.$route.params.id,advType:[],size:[414,231],thumd:[414,231],adv_position_id:"1",form:{pic:"",status:1,adv_position_id:""},validate:{adv_position_id:[{required:!0,message:"请选择广告位置",trigger:"blur"}],pic:[{required:!0,message:"请上传图片",trigger:"blur"}]}}},created:function(){this.id&&this.loadDetail(),this.getAdvType()},methods:{getAdvType:function(){var t=this;this.$http.get("admin/adv/getAdvType").then(function(e){t.advType=e.data})},loadDetail:function(){var t=this;this.$http.get("admin/adv/update/id/"+this.id).then(function(e){t.form=e.data,t.form.adv_position_id=e.data.adv_position_id.toString()})},submit:function(){var t=this;this.$refs.form.validate(function(e){if(e){var i="admin/adv/"+(t.id?"update/id/"+t.id:"create");t.$http.post(i,t.form).then(function(e){t.$router.back()})}})}}},o={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("Button",{staticClass:"mb15",attrs:{type:"ghost",icon:"chevron-left"},on:{click:function(e){t.$router.back()}}}),t._v(" "),i("Form",{ref:"form",staticClass:"w50pct block-center",attrs:{model:t.form,rules:t.validate,"label-width":80}},[i("FormItem",{attrs:{label:"广告位置",prop:"adv_position_id"}},[i("Select",{attrs:{placeholder:"请选择广告位置"},model:{value:t.form.adv_position_id,callback:function(e){t.$set(t.form,"adv_position_id",e)},expression:"form.adv_position_id"}},t._l(t.advType,function(e,a){return i("Option",{key:a,attrs:{value:a}},[t._v(t._s(e))])}))],1),t._v(" "),i("FormItem",{attrs:{label:"图片",prop:"pic"}},[i("upload",{attrs:{size:t.size,thumd:t.thumd},model:{value:t.form.pic,callback:function(e){t.$set(t.form,"pic",e)},expression:"form.pic"}})],1),t._v(" "),i("FormItem",{attrs:{label:"状态"}},[i("i-switch",{attrs:{"true-value":1,"false-value":0,size:"large"},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}},[i("span",{attrs:{slot:"open"},slot:"open"},[t._v("正常")]),t._v(" "),i("span",{attrs:{slot:"close"},slot:"close"},[t._v("锁定")])])],1),t._v(" "),i("FormItem",{staticClass:"pt15"},[t.id?i("Button",{attrs:{type:"success",icon:"archive",long:""},on:{click:t.submit}},[t._v("保存修改")]):i("Button",{attrs:{type:"primary",icon:"archive",long:""},on:{click:t.submit}},[t._v("确认添加")])],1)],1)],1)},staticRenderFns:[]},s=i("VU/8")(a,o,!1,null,null,null);e.default=s.exports}});
//# sourceMappingURL=3.9c6f0da93e97dda171cb.js.map